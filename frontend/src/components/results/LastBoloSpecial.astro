---
import type { InferEntrySchema } from 'astro:content';
import type { Result } from '../../types/result'
import BaseCard from './BaseCard.astro';

interface Props {
    result: Result;
    game: InferEntrySchema<"games">;
}

const { result, game } = Astro.props;

const last = result.results.at(-1);
const results =  result.results.slice(0, -1);
---
<BaseCard id={game.id} name={game.name} eventTime={new Date(result.eventTime)}>
    {results.map(num => (
        <span class="flex items-center justify-center w-12 h-12 bg-linear-to-br from-primary-100 via-primary-700 to-primary-900 dark:from-gray-100 dark:via-gray-200 dark:to-gray-500 text-white dark:text-primary-900 rounded-full font-bold text-lg shadow-sm">
            {num.toString().padStart(2, '0')}
        </span>
    ))}

    {last && <span class="flex items-center justify-center w-12 h-12 bg-linear-to-br from-gold-100 via-gold-300 to-gold-500 dark:from-gold-100 dark:via-gold-200 dark:to-gold-500 text-white dark:text-primary-900 rounded-full font-bold text-lg shadow-sm">
        {last.toString().padStart(2, '0')}
    </span>}
</BaseCard>
